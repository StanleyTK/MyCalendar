(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[879],{9264:(e,s,a)=>{Promise.resolve().then(a.bind(a,1364))},6046:(e,s,a)=>{"use strict";var t=a(6658);a.o(t,"useRouter")&&a.d(s,{useRouter:function(){return t.useRouter}})},1364:(e,s,a)=>{"use strict";a.r(s),a.d(s,{default:()=>r});var t=a(5155),l=a(2115),n=a(6046);function r(){let e=(0,n.useRouter)(),[s,a]=(0,l.useState)({username:"",email:"",name:"",password:""}),[r,i]=(0,l.useState)(""),[u,o]=(0,l.useState)("");(0,l.useEffect)(()=>{localStorage.getItem("userToken")&&e.push("/calendar")},[e]);let c=e=>{a({...s,[e.target.name]:e.target.value})},m=async a=>{a.preventDefault();try{let a=await fetch("".concat("http://127.0.0.1:8000/api","/users/register/"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(s)});if(a.ok)o("Registration successful! Redirecting to login..."),i(""),setTimeout(()=>{e.push("/login")},2e3);else{let e=await a.json();i(e.username||e.email||"Registration failed."),o("")}}catch(e){i("An error occurred. Please try again."),o("")}};return(0,t.jsx)("div",{className:"flex items-center justify-center min-h-screen bg-gray-900",children:(0,t.jsxs)("div",{className:"bg-gray-800 text-white p-8 rounded-lg shadow-md w-full max-w-md",children:[(0,t.jsx)("h2",{className:"text-3xl font-bold mb-4 text-center",children:"Sign Up for MyCalendar"}),r&&(0,t.jsx)("p",{className:"text-red-500 text-center mb-4",children:r}),u&&(0,t.jsx)("p",{className:"text-green-500 text-center mb-4",children:u}),(0,t.jsxs)("form",{onSubmit:m,children:[(0,t.jsxs)("div",{className:"mb-4",children:[(0,t.jsx)("label",{htmlFor:"username",className:"block text-gray-400 mb-1",children:"Username"}),(0,t.jsx)("input",{type:"text",id:"username",name:"username",value:s.username,onChange:c,required:!0,className:"w-full px-3 py-2 bg-gray-700 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),(0,t.jsxs)("div",{className:"mb-4",children:[(0,t.jsx)("label",{htmlFor:"email",className:"block text-gray-400 mb-1",children:"Email"}),(0,t.jsx)("input",{type:"email",id:"email",name:"email",value:s.email,onChange:c,required:!0,className:"w-full px-3 py-2 bg-gray-700 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),(0,t.jsxs)("div",{className:"mb-4",children:[(0,t.jsx)("label",{htmlFor:"name",className:"block text-gray-400 mb-1",children:"Full Name"}),(0,t.jsx)("input",{type:"text",id:"name",name:"name",value:s.name,onChange:c,required:!0,className:"w-full px-3 py-2 bg-gray-700 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),(0,t.jsxs)("div",{className:"mb-6",children:[(0,t.jsx)("label",{htmlFor:"password",className:"block text-gray-400 mb-1",children:"Password"}),(0,t.jsx)("input",{type:"password",id:"password",name:"password",value:s.password,onChange:c,required:!0,className:"w-full px-3 py-2 bg-gray-700 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),(0,t.jsx)("button",{type:"submit",className:"w-full bg-blue-500 py-2 rounded-lg text-white font-semibold hover:bg-blue-600 transition",children:"Sign Up"})]}),(0,t.jsx)("div",{className:"text-center mt-4",children:(0,t.jsxs)("p",{className:"text-gray-400",children:["Already have an account?"," ",(0,t.jsx)("button",{onClick:()=>e.push("/login"),className:"text-blue-500 hover:underline",children:"Login"})]})})]})})}a(5786)},5786:()=>{}},e=>{var s=s=>e(e.s=s);e.O(0,[523,441,517,358],()=>s(9264)),_N_E=e.O()}]);